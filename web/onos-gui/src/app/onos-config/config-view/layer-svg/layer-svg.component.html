<!--
~ Copyright 2019-present Open Networking Foundation
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~     http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->

<svg:g *ngIf="visible" xmlns:svg="http://www.w3.org/2000/svg">
    <svg:desc>Layer: {{layerId}} {{description}} {{changeTime | date: 'medium'}}</svg:desc>
    <svg:g *ngFor="let node of nodelist | keyvalue">
        <svg:desc>Abs:{{node.key}} Val:{{node.value.value.value | changeValue:node.value.value.valueType:node.value.value.valueTypeOpts  }}</svg:desc>
        <svg:g onos-container-svg
               [containerX]="this.hierarchy.flatMap.get(node.key).y"
               [containerY]="this.hierarchy.flatMap.get(node.key).x"
               [hn]="this.hierarchy.flatMap.get(node.key)"
               [relpath]="node.value.relPath"
               [value]="node.value.value"
               [abspath]="node.key"
               [classes]="classes"
               (containerEditRequested)="requestEditLayer($event, node.value.value, node.value.rwPath)"
                >
        </svg:g>
    </svg:g>
    <svg:path *ngFor="let l of hierarchy.treeLayout.links() | linkFilter:layerId" stroke-width="2" stroke="#a9aba0" fill-opacity="0"
              [attr.d]="curveCalculator(l)">
    </svg:path>
</svg:g>
